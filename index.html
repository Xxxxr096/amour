<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pour Celena ðŸ’–</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
    font-family:'Georgia',serif;
    overflow:hidden;
    background:radial-gradient(circle at center,#0f1020,#050510 80%);
    color:#fff;
    text-align:center;
}
canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;transition:opacity 3s ease;}
.intro{
    position:fixed;top:0;left:0;width:100%;height:100%;
    display:flex;justify-content:center;align-items:center;
    background:rgba(0,0,0,0.9);
    font-size:2em;letter-spacing:2px;color:#fff;
    animation:introFade 8s ease forwards;z-index:10;
}
@keyframes introFade{
    0%{opacity:0}20%,80%{opacity:1}100%{opacity:0;visibility:hidden}
}
.intro span{
    background:linear-gradient(90deg,#ff6b9d,#ffd93d,#c06c84);
    background-size:200% 200%;
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    animation:gradientShift 5s ease infinite;
}
@keyframes gradientShift{
    0%,100%{background-position:0% 50%}
    50%{background-position:100% 50%}
}
.container{
    position:relative;z-index:5;padding-top:100px;
    opacity:0;animation:fadeIn 2s ease 8s forwards;
}
@keyframes fadeIn{to{opacity:1}}
.glow-title{
    font-size:3em;margin-bottom:40px;
    background:linear-gradient(45deg,#ff6b9d,#ffd93d,#c06c84);
    -webkit-background-clip:text;-webkit-text-fill-color:transparent;
    background-size:200% 200%;
    animation:gradientShift 4s ease infinite,float 3s ease-in-out infinite;
}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.poem-section{
    background:rgba(255,255,255,0.05);
    backdrop-filter:blur(15px);
    border-radius:30px;padding:40px;margin:20px auto;max-width:800px;
    box-shadow:0 0 20px rgba(255,107,157,0.2);
}
.love-text{
    font-size:1.6em;color:#ffd6e8;margin:20px 0;
    font-style:italic;text-shadow:0 2px 10px rgba(255,107,157,0.3);
}
.magic-button{
    margin:50px auto;padding:20px 50px;font-size:1.3em;
    background:linear-gradient(135deg,#ff6b9d,#c06c84);
    border:none;border-radius:50px;color:white;cursor:pointer;
    box-shadow:0 10px 40px rgba(255,107,157,0.4);
    transition:all .4s ease;position:relative;overflow:hidden;
    animation:pulse 2s ease infinite;
}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
.magic-button:hover{transform:scale(1.1)}
.final-message{
    font-size:3em;margin:60px 0;
    background:linear-gradient(45deg,#ff6b9d,#ffd93d,#c06c84);
    -webkit-background-clip:text;-webkit-text-fill-color:transparent;
    background-size:300% 300%;animation:gradientShift 4s ease infinite;
    display:none;opacity:0;transition:opacity 3s ease;
}
</style>
</head>
<body>

<div class="intro"><span>Pour CELENA â€” mon Ã©toile, ma lumiÃ¨re, mon Ã©ternitÃ©</span></div>
<canvas id="loveCanvas"></canvas>

<div class="container">
    <h1 class="glow-title">âœ¨ Pour Toi, Mon Amour âœ¨</h1>
    <div class="poem-section">
        <p class="love-text">Tu es la plus belle chose qui me soit arrivÃ©e.</p>
        <p class="love-text">Chaque Ã©toile dans le ciel me rappelle ton sourire.</p>
        <p class="love-text">Je t'aime au-delÃ  des mots, au-delÃ  du temps.</p>
    </div>
    <button class="magic-button" id="magicBtn">âœ¨ Clique ici pour voir mon amour âœ¨</button>
    <h2 class="final-message" id="finalMsg">ðŸ’Œ Je t'aime pour toujours ðŸ’Œ</h2>
</div>

<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_8a9d2c1d8a.mp3?filename=tenderness-11023.mp3" type="audio/mpeg">
</audio>

<script>
const music=document.getElementById('bgMusic');
setTimeout(()=>music.play().catch(()=>{}),3000);

const canvas=document.getElementById('loveCanvas');
const ctx=canvas.getContext('2d');
let w=canvas.width=window.innerWidth;
let h=canvas.height=window.innerHeight;
window.addEventListener('resize',()=>{w=canvas.width=window.innerWidth;h=canvas.height=window.innerHeight;});

const stars=Array.from({length:200},()=>({x:Math.random()*w,y:Math.random()*h,r:Math.random()*1.5,alpha:Math.random()}));

class Soul{
  constructor(x,y,color){this.x=x;this.y=y;this.color=color;this.t=0;}
  draw(close){
    for(let i=0;i<700;i++){
      const a=i*Math.PI*2/700;
      const r=100+Math.sin(this.t*0.05+i*0.1)*10;
      const px=this.x+Math.cos(a)*r*(close?0.6:1);
      const py=this.y+Math.sin(a)*r*(close?0.6:1);
      const alpha=0.4+0.3*Math.sin(this.t*0.1+i);
      ctx.fillStyle=`rgba(${this.color},${alpha})`;
      ctx.fillRect(px,py,1.3,1.3);
    }
    this.t++;
  }
}
const soulL=new Soul(w/2-150,h/2,"255,150,200");
const soulR=new Soul(w/2+150,h/2,"200,150,255");

let together=false, heartPhase=0, particles=[], running=true;

function drawHeart(x,y,size){
  for(let i=0;i<Math.PI*2;i+=0.02){
    const hx=size*16*Math.pow(Math.sin(i),3);
    const hy=-size*(13*Math.cos(i)-5*Math.cos(2*i)-2*Math.cos(3*i)-Math.cos(4*i));
    ctx.fillRect(x+hx,y+hy,2,2);
  }
}

function animate(){
  if(!running) return; // stop loop if deactivated
  ctx.clearRect(0,0,w,h);
  for(const s of stars){
    ctx.fillStyle=`rgba(255,255,255,${s.alpha})`;
    ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);ctx.fill();
    s.y+=0.05; if(s.y>h)s.y=0;
  }

  if(!together){
    soulL.x+=0.3; soulR.x-=0.3;
    if(soulR.x-soulL.x<100)together=true;
  }
  if(!together){
    soulL.draw(false); soulR.draw(false);
  }else{
    soulL.draw(true); soulR.draw(true);
    heartPhase++;
    if(heartPhase<200){
      ctx.fillStyle="rgba(255,150,200,0.6)";
      drawHeart(w/2,h/2,8+Math.sin(heartPhase/10)*2);
    }else if(particles.length<400){
      for(let i=0;i<10;i++){
        particles.push({
          x:w/2,y:h/2,
          vx:(Math.random()-0.5)*6,
          vy:(Math.random()-0.5)*6,
          life:200,
          color:`hsl(${Math.random()*60+320},100%,70%)`
        });
      }
    }
  }

  for(let i=particles.length-1;i>=0;i--){
    const p=particles[i];
    ctx.fillStyle=p.color;
    ctx.globalAlpha=p.life/200;
    ctx.fillRect(p.x,p.y,3,3);
    ctx.globalAlpha=1;
    p.x+=p.vx; p.y+=p.vy; p.life--;
    if(p.life<=0)particles.splice(i,1);
  }
  requestAnimationFrame(animate);
}
animate();

document.getElementById('magicBtn').addEventListener('click',()=>{
  const final=document.getElementById('finalMsg');
  final.style.display='block';
  setTimeout(()=>final.style.opacity='1',100);
  
  // Stop animation smoothly
  running=false;
  canvas.style.opacity='0.1'; // fade out visual

  for(let i=0;i<80;i++){
    setTimeout(()=>{
      const heart=document.createElement('div');
      heart.textContent='â¤ï¸';
      heart.style.position='fixed';
      heart.style.left=Math.random()*w+'px';
      heart.style.top=h+'px';
      heart.style.fontSize=(Math.random()*20+20)+'px';
      heart.style.transition='all 3s ease';
      document.body.appendChild(heart);
      setTimeout(()=>{heart.style.top='-50px';heart.style.opacity='0';},100);
      setTimeout(()=>heart.remove(),3000);
    },i*50);
  }
});
</script>
</body>
</html>
